---
const 
---

<div class="[perspective:1000px">
  <div
    class="flex-1 relative w-full aspect-video md:h-[400px] overflow-hidden
                rounded-2xl
                shadow-lg shadow-black/50
                md:shadow-2xl md:shadow-black/70
                bg-slate-900
                transform-gpu
                transition-all duration-500 ease-out
                hover:[transform:rotateY(0deg)_scale(1.05)]"
    style="transform: rotateY(-12deg) scale(1);"
  >
    <video
      id="video1"
      src="/videos/video_1.mp4"
      muted
      playsinline
      class="absolute inset-0 w-full h-full object-cover transition-opacity duration-700 opacity-100"
    ></video>

    <video
      id="video2"
      src="/videos/video_2.mp4"
      muted
      playsinline
      class="absolute inset-0 w-full h-full object-cover transition-opacity duration-700 opacity-0"
    ></video>

    <div class="absolute inset-0 bg-black/10 pointer-events-none"></div>
  </div>
</div>

<script>
  const v1 = document.getElementById("video1") as HTMLVideoElement | null;
  const v2 = document.getElementById("video2") as HTMLVideoElement | null;;

  function playSequence() {
    if (!v1 || !v2) return;

    v1.play();

    v1.onended = () => {
      v1.classList.replace("opacity-100", "opacity-0");
      v2.classList.replace("opacity-0", "opacity-100");
      v2.play();
      v1.currentTime = 0;
    };

    v2.onended = () => {
      v2.classList.replace("opacity-100", "opacity-0");
      v1.classList.replace("opacity-0", "opacity-100");
      v1.play();
      v2.currentTime = 0;
    };
  }

  window.addEventListener("load", playSequence);
</script>
