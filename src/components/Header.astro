---
import ButtonGroup from "./ButtonGroup.astro";
import LinkButton from "./LinkButton.astro";

const { isHome = false } = Astro.props;
---

<header
  id="site-header"
  class={`fixed top-0 left-0 w-full z-50
    transition-all duration-500 ease-out
    ${isHome
      ? "opacity-0 -translate-y-6 pointer-events-none"
      : "bg-white shadow-sm border-b border-slate-100"}
  `}
>
    <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
        <a href="/" class="flex items-center gap-3"> 
          <img src="/src/assets/logo_ACISLAB.png" alt="ACISLAB" class="h-10" /> 
        </a>

        <ButtonGroup />
    </div>
</header>

{isHome && (
<script>
  const header = document.getElementById("site-header");
  const hero = document.querySelector("section[data-hero]") as HTMLElement | null;

  if (header && hero) {
    const heroHeight = hero.offsetHeight;

    window.addEventListener("scroll", () => {
      if (window.scrollY > heroHeight - 80) {
        header.classList.remove("opacity-0", "-translate-y-6", "pointer-events-none");
        header.classList.add(
          "bg-white",
          "shadow-md",
          "border-b",
          "border-slate-100",
          "pointer-events-auto"
        );
      } else {
        header.classList.add("opacity-0", "-translate-y-6", "pointer-events-none");
        header.classList.remove(
          "bg-white",
          "shadow-md",
          "border-b",
          "border-slate-100"
        );
      }
    });
  }
</script>
)}